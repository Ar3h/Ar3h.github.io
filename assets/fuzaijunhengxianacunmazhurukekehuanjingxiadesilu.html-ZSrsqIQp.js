import{_ as p,r as e,o,c as i,b as n,d as s,a as c,e as a}from"./app-vMCaIZpZ.js";const l="/assets/Pasted_image_20240110234426-o8aCZTNM.png",u="/assets/Pasted_image_20240110234919-YeSvdSee.png",r="/assets/Pasted_image_20240111001204-OlFrsbwz.png",d="/assets/Pasted_image_20240111002518-RJdxn7Kd.png",k="/assets/Pasted_image_20240111003450-NsuYo_D8.png",v="/assets/Pasted_image_20240111004540-el7QAgsm.png",m="/assets/Pasted_image_20240111005005-rUiVwPry.png",b="/assets/Pasted_image_20240111005115-5qpAVqsr.png",h="/assets/Pasted_image_20240111005359-QwEf4q-E.png",_="/assets/Pasted_image_20240111005636-uLdt2EsG.png",g="/assets/Pasted_image_20240111010952-wwRCGztj.png",f={},y=a('<h1 id="è´Ÿè½½å‡è¡¡ä¸‹å†…å­˜é©¬æ³¨å…¥è‹›åˆ»ç¯å¢ƒä¸‹çš„æ€è·¯" tabindex="-1"><a class="header-anchor" href="#è´Ÿè½½å‡è¡¡ä¸‹å†…å­˜é©¬æ³¨å…¥è‹›åˆ»ç¯å¢ƒä¸‹çš„æ€è·¯" aria-hidden="true">#</a> è´Ÿè½½å‡è¡¡ä¸‹å†…å­˜é©¬æ³¨å…¥è‹›åˆ»ç¯å¢ƒä¸‹çš„æ€è·¯</h1><p>åœ¨æ”»é˜²æ¼”ä¹ ä¸­ï¼Œç°åœ¨çš„å†…å­˜é©¬å·²ç»æˆä¸ºäº†å¾ˆé‡è¦çš„ä¸€ä¸ªçªç ´å…¥å£çš„æ‰‹æ®µã€‚</p><p>å®æˆ˜ä¸­æ¯”è¾ƒç®€å•çš„æƒ…å†µæ˜¯æ²¡æœ‰ä»»ä½•è´Ÿè½½ï¼Œé€šè¿‡é˜²ç«å¢™æ˜ å°„çš„ç«¯å£ç›´æ¥è®¿é—®åˆ°ç›®æ ‡ç«™ç‚¹ï¼Œè¿™æ ·çš„æƒ…å†µï¼Œå¦‚æœç›®æ ‡ç«™ç‚¹æœ‰Javaæ¼æ´ï¼Œæ³¨å…¥å†…å­˜é©¬åç›´æ¥å¯ä»¥è®¿é—® <img src="'+l+'" alt=""></p><p>å¯å®æˆ˜ä¸­å¾ˆå¤šæƒ…å†µä¸‹ï¼Œç›®æ ‡ç¯å¢ƒæ¯”è¾ƒå¤æ‚ï¼Œä¾‹å¦‚å¾®æœåŠ¡æ¶æ„+è´Ÿè½½å‡è¡¡ï¼Œç®€åŒ–æ‹“æ‰‘å›¾å¦‚ä¸‹ï¼š <img src="'+u+`" alt=""></p><p>Nginx é€šè¿‡ upstream é…ç½®å‚æ•°ï¼ŒæŒ‡å®šä¸‰å°nodeæœåŠ¡å™¨ä¸ºä¸Šæ¸¸ä»£ç†ï¼Œä¹Ÿå°±æ˜¯è´Ÿè½½å‡è¡¡ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>upstream backserver {
	server node1;
	server node2;
	server node3;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Nginxæ”¯æŒäº”ç§è´Ÿè½½ç­–ç•¥ï¼Œé»˜è®¤è´Ÿè½½ç­–ç•¥ä¸ºè½®è¯¢ï¼Œå³æ¯ä¸ªè¯·æ±‚æŒ‰ç…§æ—¶é—´é¡ºåºè½®æµåˆ†é…ç»™çš„åç«¯æœåŠ¡å™¨ã€‚</p><p>æœ‰äº†è´Ÿè½½å‡è¡¡ï¼Œè¿™ç§æƒ…å†µä¸‹å¯¹æˆ‘ä»¬çš„å†…å­˜é©¬æœ‰æ¯”è¾ƒå¤§çš„å½±å“ã€‚æ¯”å¦‚å®æˆ˜ä¸­ç»å¸¸ä¼šå‘ç°æ³¨å…¥å†…å­˜é©¬æˆåŠŸåï¼Œæœ‰æ—¶å€™èƒ½è¿ä¸Šï¼Œæœ‰æ—¶å€™è¿ä¸ä¸Šã€‚</p><p>é’ˆå¯¹è´Ÿè½½å‡è¡¡ä¸‹å†…å­˜é©¬æ³¨å…¥çš„ç¬¬ä¸€ç§è§£å†³åŠæ³•æ˜¯å¤šæ³¨å…¥å‡ æ¬¡ã€‚</p><p>å¤§å®¶è‚¯å®šéƒ½å°è¯•è¿‡ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¯ä»¥åœ¨æ³¨é©¬æ—¶çš„å­—èŠ‚ç åŠ ä¸€äº›åˆ¤æ–­æ¡ä»¶ï¼Œæ¯”å¦‚æ£€æµ‹åˆ°å†…å­˜é©¬çš„ç±»åå·²å­˜åœ¨ï¼Œå°±è·³è¿‡æ³¨å…¥ï¼Œå‡å°‘é‡å¤æ³¨å…¥çš„é©¬å¯¹ç›®æ ‡æœåŠ¡å™¨å¸¦æ¥çš„å‹åŠ›ï¼Œå‡å°‘æœåŠ¡å´©æºƒçš„é£é™©ã€‚</p><h2 id="æƒ…å†µä¸€-æ³¨å…¥å…¨éƒ¨å†…å­˜é©¬" tabindex="-1"><a class="header-anchor" href="#æƒ…å†µä¸€-æ³¨å…¥å…¨éƒ¨å†…å­˜é©¬" aria-hidden="true">#</a> æƒ…å†µä¸€ï¼šæ³¨å…¥å…¨éƒ¨å†…å­˜é©¬</h2><p>è¿™ç§æ–¹å¼ä¸‹æœ€å¥½çš„æƒ…å†µæ˜¯æ¯ä¸ªè´Ÿè½½åé¢çš„æœåŠ¡éƒ½èƒ½æ­£å¸¸æ³¨å…¥å†…å­˜é©¬ï¼Œä»¥ä¸Šé¢çš„å›¾ä¸¾ä¾‹ï¼Œå‡è®¾ç°åœ¨ä¸‰å°å·²ç»éƒ½æ³¨å…¥æˆåŠŸäº†å†…å­˜é©¬ï¼Œåç«¯æœåŠ¡ä¹Ÿå‡å®ç°äº†sessionå…±äº«ï¼Œè¿™ç§è¿æ°”æ¯”è¾ƒå¥½çš„æƒ…å†µä¸‹godzillaæ˜¯èƒ½å¤Ÿæ­£å¸¸è¿æ¥çš„ã€‚</p><p>ä½†æ˜¯å¦‚æœåç«¯æœåŠ¡æ²¡æœ‰å®ç°sessionå…±äº«ï¼Œå°±ä¼šå‡ºç°é—®é¢˜ï¼Œgodzillaçš„è¿æ¥ä¼šå‡ºç°å¤§æ¦‚ç‡è¿ä¸ä¸Šçš„é—®é¢˜ã€‚</p><p>è¿™æ˜¯å› ä¸ºgodzillaçš„è¿æ¥éœ€è¦ä¸¤ä¸ªåŒ…ï¼Œè€Œä¸¤ä¸ªåŒ…éœ€è¦ä¼šè¢«è´Ÿè½½å‡è¡¡çš„ç­–ç•¥åˆ†é…åˆ°ä¸åŒçš„åº”ç”¨ï¼Œå¯¼è‡´ç¬¬äºŒä¸ªåŒ…è¯·æ±‚æœåŠ¡ç«¯æ—¶æ— æ³•è·å–åˆ°å¤§é©¬çš„æƒ…å†µ <img src="`+r+'" alt=""></p><p>è¿™ç§æƒ…å†µä¸‹çœ¼çççœ‹ç€éƒ½æœ‰ğŸå„¿äº†ï¼Œä½†æ˜¯ä¸å¬å’±ä»¬çš„ä½¿å”¤ï¼Œå¦‚ä½•è§£å†³å‘¢ï¼Ÿ</p>',15),w={href:"https://mp.weixin.qq.com/s/4Bmz_fuu0yrLMK1oBKKtRA",target:"_blank",rel:"noopener noreferrer"},T=a('<p>ç®€å•æ€»ç»“ä¸€ä¸‹ï¼š</p><ol><li>ç»™æ‰€æœ‰çš„åº”ç”¨æœåŠ¡ä¸Šç‰¹æ®Šçš„webshell</li><li>è¿æ¥webshellæ—¶æŒ‡å®šä¸€ä¸ªå†…ç½‘webshellçš„URLï¼ŒæŠŠæ‰€æœ‰çš„æµé‡éƒ½è½¬å‘ç»™å®ƒ</li></ol><p>å¦‚ä¸‹å›¾æ‰€ç¤º <img src="'+d+'" alt=""> ç›¸å½“äºæˆ‘ä»¬æ‰‹åŠ¨å®ç°äº†ä¸€ä¸ªåè´Ÿè½½å‡è¡¡çš„æ“ä½œï¼ŒæŠŠæ‰€æœ‰æµé‡éƒ½èšé›†åœ¨ä¸€ä¸ªèŠ‚ç‚¹ä¸­</p><p>è¿™æ ·åšå°±ä¿è¯äº†æ‰§è¡Œwebshellæ“ä½œæ—¶ï¼Œåªä¼šåœ¨node2ä¸Šè¿›è¡Œæ“ä½œï¼Œä¸ä¼šå› ä¸ºè´Ÿè½½å‡è¡¡å„¿å—åˆ°å¹²æ‰°ã€‚</p><h2 id="æƒ…å†µäºŒ-æ— æ³•å…¨éƒ¨æ³¨å…¥" tabindex="-1"><a class="header-anchor" href="#æƒ…å†µäºŒ-æ— æ³•å…¨éƒ¨æ³¨å…¥" aria-hidden="true">#</a> æƒ…å†µäºŒï¼šæ— æ³•å…¨éƒ¨æ³¨å…¥</h2><p>å®æˆ˜ç¯å¢ƒä¸‹å¾€å¾€æ˜¯å¥‡è‘©çš„ï¼Œä»¤äººå¤´ç–¼çš„ã€‚</p><p>æ³¨é©¬çš„æ—¶å€™å¯èƒ½æ€»æœ‰é‚£ä¹ˆä¸€ä¸¤ä¸ªèŠ‚ç‚¹æ— æ³•æ³¨å…¥æˆåŠŸï¼Œæˆ–è€…åªèƒ½ä¸€ä¸ªèŠ‚ç‚¹èƒ½æ³¨å…¥æˆåŠŸã€‚</p><p>åœ¨è¿™ç§æ¡ä»¶ä¸‹ï¼Œä¸Šé¢çš„è§£å†³æ–¹æ³•å°±å¤±æ•ˆäº†ã€‚</p><p>æŠŠç›®æ ‡ç«™ç‚¹çœ‹ä½œç›²ç›’ï¼Œæ—¢ç„¶æœ‰çš„æ—¶å€™è®¿é—®ä¼šæˆåŠŸï¼Œæœ‰çš„æ—¶å€™ä¼šè®¿é—®å¤±è´¥ï¼Œé‚£ä¹ˆåœ¨è¿æ¥è½¯ä»¶åé¢åŠ å…¥ä¸€ä¸ªé‡ä¼ æœºåˆ¶å°±å¥½äº† <img src="'+k+`" alt=""></p><p>å¤±è¯¯é‡ä¼ ï¼Œé€šè¿‡ä¸€å®šçš„è§„åˆ™ï¼Œæ¥ç¡®ä¿ç›®æ ‡è¿”å›æ­£ç¡®çš„å†…å®¹ã€‚ ä¾‹å¦‚ç›®æ ‡ç«™ç‚¹å“åº”ç è¿”å›ä¸æ˜¯200ï¼Œå°±è¿›è¡Œé‡ä¼ ï¼Œç›´åˆ°ç›®æ ‡ç«™ç‚¹è¿”å›200å³å¯ã€‚</p><p>ä½¿ç”¨python2ç®€å•å†™äº†ä¸ªdemo</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment">#!/usr/bin/env python3</span>
<span class="token comment"># coding = utf-8</span>
<span class="token comment"># Time   : 2023/6/5 15:41</span>
<span class="token comment"># Author : Ar3h</span>

<span class="token keyword">from</span> BaseHTTPServer <span class="token keyword">import</span> BaseHTTPRequestHandler<span class="token punctuation">,</span> HTTPServer
<span class="token keyword">import</span> socket
<span class="token keyword">import</span> urllib


<span class="token keyword">class</span> <span class="token class-name">MyHandler</span><span class="token punctuation">(</span>BaseHTTPRequestHandler<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">do_POST</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        uri <span class="token operator">=</span> self<span class="token punctuation">.</span>path
        <span class="token comment"># print uri</span>
        proto<span class="token punctuation">,</span> rest <span class="token operator">=</span> urllib<span class="token punctuation">.</span>splittype<span class="token punctuation">(</span>uri<span class="token punctuation">)</span>
        host<span class="token punctuation">,</span> rest <span class="token operator">=</span> urllib<span class="token punctuation">.</span>splithost<span class="token punctuation">(</span>rest<span class="token punctuation">)</span>
        <span class="token comment"># print host</span>
        path <span class="token operator">=</span> rest
        host<span class="token punctuation">,</span> port <span class="token operator">=</span> urllib<span class="token punctuation">.</span>splitnport<span class="token punctuation">(</span>host<span class="token punctuation">)</span>
        <span class="token keyword">if</span> port <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
            port <span class="token operator">=</span> <span class="token number">80</span>
        <span class="token comment"># print host</span>
        host_ip <span class="token operator">=</span> socket<span class="token punctuation">.</span>gethostbyname<span class="token punctuation">(</span>host<span class="token punctuation">)</span>
        <span class="token comment"># print port</span>

        <span class="token keyword">del</span> self<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">&#39;Proxy-Connection&#39;</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">&#39;Connection&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;close&#39;</span>

        send_data <span class="token operator">=</span> <span class="token string">&#39;POST &#39;</span> <span class="token operator">+</span> path <span class="token operator">+</span> <span class="token string">&#39; &#39;</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>protocol_version <span class="token operator">+</span> <span class="token string">&#39;\\r\\n&#39;</span>
        head <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>
        <span class="token keyword">for</span> key<span class="token punctuation">,</span> val <span class="token keyword">in</span> self<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            head <span class="token operator">=</span> head <span class="token operator">+</span> <span class="token string">&quot;%s: %s\\r\\n&quot;</span> <span class="token operator">%</span> <span class="token punctuation">(</span>key<span class="token punctuation">,</span> val<span class="token punctuation">)</span>
        send_data <span class="token operator">=</span> send_data <span class="token operator">+</span> head <span class="token operator">+</span> <span class="token string">&#39;\\r\\n&#39;</span>

        content_length <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">&#39;Content-Length&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        post_data <span class="token operator">=</span> self<span class="token punctuation">.</span>rfile<span class="token punctuation">.</span>read<span class="token punctuation">(</span>content_length<span class="token punctuation">)</span>
        <span class="token comment"># print(post_data)</span>

        send_data <span class="token operator">=</span> send_data <span class="token operator">+</span> post_data
        <span class="token keyword">print</span> send_data
        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            so <span class="token operator">=</span> socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span>socket<span class="token punctuation">.</span>AF_INET<span class="token punctuation">,</span> socket<span class="token punctuation">.</span>SOCK_STREAM<span class="token punctuation">)</span>
            so<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token punctuation">(</span>host_ip<span class="token punctuation">,</span> port<span class="token punctuation">)</span><span class="token punctuation">)</span>
            so<span class="token punctuation">.</span>sendall<span class="token punctuation">(</span>send_data<span class="token punctuation">)</span>
            data <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>
            <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
                tmp <span class="token operator">=</span> so<span class="token punctuation">.</span>recv<span class="token punctuation">(</span><span class="token number">4096</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span> <span class="token keyword">not</span> tmp<span class="token punctuation">:</span>
                    <span class="token keyword">break</span>
                data <span class="token operator">=</span> data <span class="token operator">+</span> tmp

            <span class="token comment"># socprint data</span>
            so<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
            ok <span class="token operator">=</span> <span class="token string">&quot;HTTP/1.1 200 OK&quot;</span>
            resp_first_line <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token builtin">len</span><span class="token punctuation">(</span>ok<span class="token punctuation">)</span><span class="token punctuation">]</span>
            <span class="token keyword">print</span> resp_first_line
            <span class="token keyword">if</span> <span class="token punctuation">(</span>resp_first_line<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">&quot;HTTP/1.1 200&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">break</span>
        self<span class="token punctuation">.</span>wfile<span class="token punctuation">.</span>write<span class="token punctuation">(</span>data<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">do_GET</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        uri <span class="token operator">=</span> self<span class="token punctuation">.</span>path
        <span class="token comment"># print uri</span>
        proto<span class="token punctuation">,</span> rest <span class="token operator">=</span> urllib<span class="token punctuation">.</span>splittype<span class="token punctuation">(</span>uri<span class="token punctuation">)</span>
        host<span class="token punctuation">,</span> rest <span class="token operator">=</span> urllib<span class="token punctuation">.</span>splithost<span class="token punctuation">(</span>rest<span class="token punctuation">)</span>
        <span class="token comment"># print host</span>
        path <span class="token operator">=</span> rest
        host<span class="token punctuation">,</span> port <span class="token operator">=</span> urllib<span class="token punctuation">.</span>splitnport<span class="token punctuation">(</span>host<span class="token punctuation">)</span>
        <span class="token keyword">if</span> port <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
            port <span class="token operator">=</span> <span class="token number">80</span>
        <span class="token comment"># print host</span>
        host_ip <span class="token operator">=</span> socket<span class="token punctuation">.</span>gethostbyname<span class="token punctuation">(</span>host<span class="token punctuation">)</span>
        <span class="token comment"># print port</span>

        <span class="token keyword">del</span> self<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">&#39;Proxy-Connection&#39;</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">&#39;Connection&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;close&#39;</span>

        send_data <span class="token operator">=</span> <span class="token string">&#39;GET &#39;</span> <span class="token operator">+</span> path <span class="token operator">+</span> <span class="token string">&#39; &#39;</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>protocol_version <span class="token operator">+</span> <span class="token string">&#39;\\r\\n&#39;</span>
        head <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>
        <span class="token keyword">for</span> key<span class="token punctuation">,</span> val <span class="token keyword">in</span> self<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            head <span class="token operator">=</span> head <span class="token operator">+</span> <span class="token string">&quot;%s: %s\\r\\n&quot;</span> <span class="token operator">%</span> <span class="token punctuation">(</span>key<span class="token punctuation">,</span> val<span class="token punctuation">)</span>
        send_data <span class="token operator">=</span> send_data <span class="token operator">+</span> head <span class="token operator">+</span> <span class="token string">&#39;\\r\\n&#39;</span>

        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            <span class="token comment"># print send_data</span>
            so <span class="token operator">=</span> socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span>socket<span class="token punctuation">.</span>AF_INET<span class="token punctuation">,</span> socket<span class="token punctuation">.</span>SOCK_STREAM<span class="token punctuation">)</span>
            so<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token punctuation">(</span>host_ip<span class="token punctuation">,</span> port<span class="token punctuation">)</span><span class="token punctuation">)</span>
            so<span class="token punctuation">.</span>sendall<span class="token punctuation">(</span>send_data<span class="token punctuation">)</span>

            data <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>
            <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
                tmp <span class="token operator">=</span> so<span class="token punctuation">.</span>recv<span class="token punctuation">(</span><span class="token number">4096</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span> <span class="token keyword">not</span> tmp<span class="token punctuation">:</span>
                    <span class="token keyword">break</span>
                data <span class="token operator">=</span> data <span class="token operator">+</span> tmp

            <span class="token comment"># socprint data</span>
            so<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>

            ok <span class="token operator">=</span> <span class="token string">&quot;HTTP/1.1 200 OK&quot;</span>
            resp_first_line <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token builtin">len</span><span class="token punctuation">(</span>ok<span class="token punctuation">)</span><span class="token punctuation">]</span>
            <span class="token keyword">print</span> resp_first_line
            <span class="token keyword">if</span> <span class="token punctuation">(</span>resp_first_line<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">&quot;HTTP/1.1 200&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">break</span>

        self<span class="token punctuation">.</span>wfile<span class="token punctuation">.</span>write<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    do_CONNECT <span class="token operator">=</span> do_GET


<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        server <span class="token operator">=</span> HTTPServer<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token number">8888</span><span class="token punctuation">)</span><span class="token punctuation">,</span> MyHandler<span class="token punctuation">)</span>
        <span class="token keyword">print</span>
        <span class="token string">&#39;Welcome to the machine...&#39;</span>
        server<span class="token punctuation">.</span>serve_forever<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">except</span> KeyboardInterrupt<span class="token punctuation">:</span>
        <span class="token keyword">print</span>
        <span class="token string">&#39;^C received, shutting down server&#39;</span>
        server<span class="token punctuation">.</span>socket<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&#39;__main__&#39;</span><span class="token punctuation">:</span>
    main<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŸºæœ¬é€»è¾‘å¦‚ä¸‹ <img src="`+v+'" alt=""></p><p>å¤§è‡´é€»è¾‘æ˜¯ç›‘å¬æœ¬æœºçš„8888ç«¯å£ï¼Œè·å–å¦‚æœç›®æ ‡ç«™ç‚¹æ²¡æœ‰è¿”å›å“åº”å¤´<code>HTTP/1.1 200</code>å­—ç¬¦ä¸²ï¼Œå°±é‡å¤å‘åŒ…ï¼Œç›´åˆ°ç›®æ ‡æœåŠ¡è¿”å›ä¸ºæ­¢ã€‚</p><p>å®æˆ˜ä¸ºä¾‹ è¿™ä¸ªç¯å¢ƒé€šè¿‡è¯·æ±‚åˆ¤æ–­æ˜¯è´Ÿè½½ä¸‹æœ‰ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œä¸€ä¸ªæ˜¯å¯ä»¥æ­£å¸¸æ³¨å…¥neoregçš„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š <img src="'+m+'" alt=""></p><p>å¦ä¸€ä¸ªæ˜¯æ³¨å…¥å¤±è´¥çš„ï¼Œè¿”å›500 <img src="'+b+'" alt=""></p><p>ç›´æ¥è¿neoregæ˜¯æ— æ³•è¯·æ±‚æˆåŠŸ <img src="'+h+'" alt=""></p><p>ç»™neoregè®¾ç½®httpä»£ç†åï¼Œé€šè¿‡é”™è¯¯é‡ä¼ çš„è„šæœ¬è¿›è¡Œè¿‡æ»¤åï¼Œå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨ä»£ç†äº† <img src="'+_+'" alt=""></p><p>åŒç†ï¼Œå¦‚æœæ˜¯godzillaï¼Œä¹Ÿå¯ä»¥æŒ‚httpä»£ç†åˆ°è¿™ä¸ªé”™è¯¯é‡ä¼ çš„è„šæœ¬ä¸Šï¼ŒåŒæ ·å®ç°è¯¥æ•ˆæœ</p><p>è¿™æ ·åšæœ‰ä¸€ä¸ªç¼ºç‚¹ï¼šå‘åŒ…é‡æ¯”ä»¥å‰å¤§å¾ˆå¤šï¼Œå…·ä½“è§†è´Ÿè½½ç­–ç•¥å’Œè´Ÿè½½åé¢çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚</p><p>é€Ÿåº¦æ…¢ä¸€ç‚¹ï¼Œä¸è¿‡è‡³å°‘èƒ½ç”¨äº†ï¼Œæ€»æ¯”æ²¡æœ‰å¥½ã€‚</p><h2 id="è¿›ä¸€æ­¥æ‹“å±•æ€è·¯" tabindex="-1"><a class="header-anchor" href="#è¿›ä¸€æ­¥æ‹“å±•æ€è·¯" aria-hidden="true">#</a> è¿›ä¸€æ­¥æ‹“å±•æ€è·¯</h2><p>ä»¥ä¸Šæ€è·¯å·²ç»èƒ½è§£å†³åªèƒ½æ³¨å…¥ä¸€ä¸ªå†…å­˜é©¬çš„åœºæ™¯äº†ã€‚</p><p>ä½†æ˜¯å¦‚æœåœ¨å°è¯•é˜¶æ®µï¼Œä¸å°å¿ƒå¤šæ³¨å…¥äº†å¤šä¸ªå†…å­˜é©¬å‘¢ï¼Œä½†æ˜¯åˆæ²¡èƒ½å®Œå…¨æ³¨å…¥å‘¢ï¼Ÿ æ¯”å¦‚ä¸‰ä¸ªè´Ÿè½½èŠ‚ç‚¹ï¼Œåªæ³¨å…¥æˆåŠŸäº†ä¸¤ä¸ªï¼Œç”¨ä¸Šé¢çš„è„šæœ¬æ˜¾ç„¶è¿˜æ˜¯æœ‰é—®é¢˜çš„ã€‚</p><p>å› ä¸ºè¿‡æ»¤æ¡ä»¶åªæ˜¯åˆ¤æ–­è¿”å›æ˜¯å¦ä¸º200ï¼Œè®¿é—®ä¸¤ä¸ªæ³¨å…¥æˆåŠŸçš„èŠ‚ç‚¹ä¼šè¿”å›200ï¼Œå¯èƒ½ä¼šå¯¼è‡´æˆ‘ä»¬çš„neoregå·¥å…·ä¹±å¥—ã€‚</p><p>æ‰€ä»¥å¦‚æœç»§ç»­æ”¹è¿›çš„è¯ï¼Œå¯ä»¥åœ¨æ³¨å…¥å†…å­˜é©¬çš„æ—¶å€™ï¼ŒåŠ å…¥è¿™ä¹ˆä¸€æ®µé€»è¾‘ï¼šé€šè¿‡ç‰¹æ®Šçš„headerè®¿é—®æ—¶ä¹ŸåŒæ—¶è¿”å›ä¸€ä¸ªç‰¹æ®Šçš„headeræ ‡è®°ï¼Œç”¨æ¥æ ‡è®°è¿™ä¸ªæ˜¯å“ªä¸ªåº”ç”¨çš„å†…å­˜é©¬ã€‚</p><p>æ¯”å¦‚node1ã€node2æˆåŠŸæ³¨å…¥ï¼Œç‰¹æ®Šè¯·æ±‚æ—¶è¿”å›key: nodexã€‚node3æ³¨å…¥å¤±è´¥ï¼Œè‡ªç„¶ä¹Ÿå°±ä¸ä¼šè¿”å›ã€‚ <img src="'+g+'" alt=""></p><p>æŠŠè¿™ä¸ªæ ‡è®°åŠ å…¥åˆ°é”™è¯¯é‡ä¼ è„šæœ¬æ£€æµ‹é€»è¾‘ä¸­ï¼Œè¿™æ ·å°±ä¹‹ä¼šé’ˆå¯¹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå†…å­˜é©¬è¿›è¡Œè¯·æ±‚äº†ã€‚</p><h2 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“" aria-hidden="true">#</a> æ€»ç»“</h2><p>æœ¬æ–‡ä»‹ç»äº†è´Ÿè½½å‡è¡¡ä¸‹æŸäº›è‹›åˆ»ç¯å¢ƒçš„å†…å­˜é©¬æ³¨å…¥åå¦‚ä½•è¿æ¥çš„æ€è·¯ï¼Œå¹¶æ ¹æ®å®æˆ˜å®ç°äº†ä¸€ä¸ªdemoè„šæœ¬ã€‚</p><p>å½“æ—¶æ‰“æ¯”èµ›åŒ†å¿™ï¼Œåªæ˜¯ä¸´æ—¶æ‰‹æ“çš„ä¸€ä¸ªè„šæœ¬ï¼Œè„šæœ¬éå¸¸ç®€é™‹ï¼Œè¿‡æ»¤æ¡ä»¶ååˆ†ç®€å•ç²—æš´ï¼Œå¹¶ä¸”åªæ”¯æŒhttpä»£ç†ã€‚</p><p>ä¹‹åæ”¹è¿›çš„æƒ³æ³•çš„è¯ï¼Œéœ€è¦æ”¯æŒhttpsåè®®ï¼Œæ¯•ç«Ÿå¾ˆå¤šæ­£ç»çš„ç«™åªå…è®¸httpsè®¿é—®ã€‚</p><p>ç¬”è€…æŠ›ç –å¼•ç‰ï¼Œå¸Œæœ›å¯ä»¥ç»™å¤§ä½¬ä»¬æä¾›ä¸€äº›æ€è·¯ã€‚</p><h2 id="å‚è€ƒ" tabindex="-1"><a class="header-anchor" href="#å‚è€ƒ" aria-hidden="true">#</a> å‚è€ƒ</h2><p>è´Ÿè½½å‡è¡¡ä¸‹çš„ WebShell è¿æ¥: https://mp.weixin.qq.com/s/4Bmz_fuu0yrLMK1oBKKtRA</p>',35);function x(P,q){const t=e("ExternalLinkIcon");return o(),i("div",null,[y,n("p",null,[s("èšå‰‘ä½œè€…ç»™å‡ºäº†ä¸€ç§è§£å†³æ–¹æ¡ˆï¼š"),n("a",w,[s("è´Ÿè½½å‡è¡¡ä¸‹çš„ WebShell è¿æ¥"),c(t)])]),T])}const H=p(f,[["render",x],["__file","fuzaijunhengxianacunmazhurukekehuanjingxiadesilu.html.vue"]]);export{H as default};
